//----------- LIST -----------//

+cover('list')
  +coverTitle()
  +coverPosts('list')
    +coverPost({ fallback: false })
+cover('grid')
  +coverTitle()
  +coverPosts('grid')
    +coverPost()
+cover('Z')
  +coverTitle()
  +coverPosts('Z')
    +coverPost()

//----------- GALLERY -----------//

+cover('gallery')
  +coverTitle()
  +coverPosts('gallery')
    +coverPost({ summary: false })

//----------- SLIDER -----------//

+cover('slider')
  +coverTitle()
  +coverPosts('slider')(class='swiper')
    .wrap(class='swiper-wrapper')
      +coverPost({ summary: false })(class='swiper-slide')
    .next(class='swiper-button-next')
    .prev(class='swiper-button-prev')

style
  :postcss
    #global-header ~ .post,
    [data-list-style] .post {
      @apply relative;

      .link {
        @apply z-50 absolute top-0 left-0 w-full h-full;
      }

      .content {
        .picture {
          .img {
            & + .fallback {
              @apply hidden;
            }
          }

          .fallback {
            @apply bg-h-200 dark:bg-h-700;
          }
        }

        .info {
          .header {
            .tit {
              img {
                @apply hidden;
              }
            }
          }

          .summary {
            @apply empty:m-0;
          }
        }
      }
    }

style
  :postcss
    #global-header ~ .post,
    [data-list-style=list] .post {
      @apply index-container;
    }

    [data-list-style=grid] .posts-wrapper,
    [data-list-style=gallery] .posts-wrapper {
      @apply index-container cover-cols-3;
    }

    [data-list-style=Z] .posts-wrapper {
      @apply index-container cover-cols-1;
    }

    [data-list-style=slider] {
      @apply cover-fullscreen;
    }

    [data-list-style=list] {
      @apply max-sm:flex max-sm:flex-col;
    }

    [data-list-style=list] .posts-wrapper {
      @apply px-4;
    }

    [data-list-style=gallery] .posts-wrapper {
      @apply gap-4 lg:gap-6;
    }

    [data-list-style=grid] {
      @apply gap-y-6 gap-x-4 lg:gap-y-8 lg:gap-x-6;
    }

    [data-list-style=Z] {
      @apply gap-y-6 sm:gap-y-0;
    }

//- cover-content-left
style
  :postcss
    .cover-content-left {
      .content {
        @apply items-start;

        .info {
          @apply flex flex-col items-start;

          .header {
            @apply items-start;
          }
        }
      }
    }

//- cover-content-center
style
  :postcss
    .cover-content-center {
      .content {
        @apply items-center;

        .info {
          @apply flex flex-col items-center;

          .header {
            @apply items-center;
          }
        }
      }
    }

//- cover-content-right
style
  :postcss
    .cover-content-right {
      .content {
        @apply items-end;

        .info {
          @apply flex flex-col items-end;

          .header {
            @apply items-end;
          }
        }
      }
    }

//- list
style
  :postcss
    #global-header ~ .post,
    [data-list-style=list] .post {
      @apply relative border-t border-solid border-h-300 dark:border-h-600 first-of-type:border-t-0;

      .content {
        /* 가로 배치 유지 (리스트 형태), 수직 중앙 정렬 */
        @apply flex flex-row items-center gap-x-3 py-4;

        .picture {
          /* 오른쪽 사진: 고정 너비, 3:2 비율 */
          @apply order-2 shrink-0;

          .img {
            @apply w-24 h-16 sm:w-32 sm:h-[5.33rem];

            .thumb {
              @apply w-24 h-16 sm:w-32 sm:h-[5.33rem] max-w-none object-cover bg-h-100 rounded;
            }
          }

          .fallback {
            @apply hidden w-24 h-16 sm:w-32 sm:h-[5.33rem] bg-h-300 dark:bg-h-600 rounded flex items-center justify-center;
            
            &::before {
              content: '\f03e'; /* FontAwesome 이미지 아이콘 (fa-image) */
              font-family: 'Font Awesome 6 Free';
              font-weight: 400;
              @apply text-xl text-h-400 dark:text-h-500;
            }
          }
          
          /* 썸네일이 없을 때 fallback 표시 */
          .img:empty + .fallback,
          &:not(:has(.img)) .fallback {
            @apply flex;
          }
        }

        .info {
          /* 왼쪽 텍스트: 남은 공간 사용 */
          @apply order-1 flex-1 min-w-0;

          .header {
            @apply flex flex-col gap-y-1;

            .tit {
              /* 타이틀: 1줄로 제한, 말줄임 */
              @apply text-sm sm:text-base lg:text-lg font-semibold text-h-800 dark:text-h-200;
              @apply overflow-hidden text-ellipsis whitespace-nowrap;
            }

            .desc {
              @apply flex flex-wrap gap-x-2 text-xs;

              * {
                @apply text-h-400;
              }

              .category {
                @apply text-h-blue font-medium;
              }
            }
          }

          .summary {
            @apply hidden;
          }
        }
      }
    }

//- grid
style
  :postcss
    [data-list-style=grid] {
      .post {
        .content {
          @apply flex flex-col gap-y-6;

          .picture {
            .img,
            .fallback {
              @apply pt-[66.66%] relative;
            }

            .img {
              .thumb {
                @apply absolute top-0 left-0 w-full h-full object-cover bg-h-100;
              }
            }
            
            .fallback {
              @apply bg-h-300 dark:bg-h-600;
              
              &::before {
                content: '\f03e'; /* FontAwesome 이미지 아이콘 (fa-image) */
                font-family: 'Font Awesome 6 Free';
                font-weight: 400;
                @apply absolute text-3xl text-h-400 dark:text-h-500;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
              }
            }
            
            /* 썸네일이 없을 때 fallback 표시 */
            .img:empty + .fallback {
              @apply flex;
            }
          }

          .info {
            .header {
              @apply flex flex-col gap-y-1;

              .tit {
                @apply text-xl font-bold text-h-800 dark:text-h-200;
              }

              .desc {
                @apply flex gap-x-1 text-sm max-md:hidden;

                * {
                  @apply text-h-400;
                }
              }
            }

            .summary {
              @apply mt-2 max-h-14 overflow-hidden leading-loose text-sm text-h-400;
            }
          }
        }
      }
    }

//- Z
style
  :postcss
    [data-list-style=Z] {
      .post {
        .content {
          @apply flex flex-col gap-y-4 sm:flex-row;

          .picture {
            @apply sm:w-1/2;

            .img {
              .thumb {
                @apply relative z-10 object-cover w-full bg-h-100 sm:max-w-none;
              }
            }

            .fallback {
              @apply pt-[66.66%];
            }
          }

          .info {
            @apply sm:w-1/2;
            @apply flex flex-col justify-center;

            .header {
              @apply flex flex-col gap-y-1;

              .tit {
                @apply text-xl lg:text-2xl font-bold text-h-800 dark:text-h-200;
              }

              .desc {
                @apply flex gap-x-1 text-sm;

                * {
                  @apply text-h-400;
                }
              }
            }

            .summary {
              @apply mt-2 max-h-20 overflow-hidden leading-loose text-sm text-h-400;
            }
          }
        }

        &:nth-child(2n) {
          .content {
            @apply sm:flex-row-reverse;

            .info {
              @apply sm:pr-10 lg:pr-20;
            }
          }
        }

        &:nth-child(2n+1) {
          .content {
            .info {
              @apply sm:pl-10 lg:pl-20;
            }
          }
        }
      }
    }

//- gallery (카드형 레이아웃)
style
  :postcss
    [data-list-style=gallery] {
      @apply gap-4 lg:gap-6;

      .post {
        .content {
          @apply flex flex-col gap-y-4;

          .picture {
            .img,
            .fallback {
              @apply pt-[66.66%] relative overflow-hidden rounded-lg;
            }

            .img {
              .thumb {
                @apply absolute top-0 left-0 w-full h-full object-cover bg-h-100 rounded-lg transition-transform duration-300;
              }
            }
            
            .fallback {
              @apply bg-h-300 dark:bg-h-600;
              
              &::before {
                content: '\f03e'; /* FontAwesome 이미지 아이콘 (fa-image) */
                font-family: 'Font Awesome 6 Free';
                font-weight: 400;
                @apply absolute text-4xl text-h-400 dark:text-h-500;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
              }
            }
            
            /* 썸네일이 없을 때 fallback 표시 */
            .img:empty + .fallback {
              @apply flex;
            }
          }

          .info {
            @apply flex flex-col gap-y-2;

            .header {
              @apply flex flex-col-reverse gap-y-1;

              .tit {
                @apply text-base lg:text-lg font-bold text-h-800 dark:text-h-200 overflow-hidden;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
              }

              .desc {
                @apply flex gap-x-2 text-xs;

                * {
                  @apply text-h-400;
                }

                .category {
                  @apply font-medium text-h-blue;
                }
              }
            }

            .summary {
              @apply hidden;
            }
          }
        }

        /* 호버 효과 */
        &:hover {
          .content {
            .picture {
              .img {
                .thumb {
                  @apply scale-105;
                }
              }
            }
          }
        }
      }
    }

//- slider
style
  :postcss
    [data-list-style=slider] {
      .swiper-wrapper {
        .post {
          .content {
            @apply before:absolute before:left-0 before:top-0 before:w-full before:h-screen before:bg-h-900/20 before:z-10;
            @apply w-full h-full flex justify-center items-center;

            .picture {
              @apply w-full h-full;

              .img,
              .fallback {
                @apply w-full h-full;
              }

              .img {
                .thumb {
                  @apply w-full h-full object-cover bg-h-100;
                }
              }
            }

            .info {
              @apply absolute z-20;

              .header {
                @apply flex flex-col gap-y-1 justify-center items-center text-center;

                .tit {
                  @apply px-4 text-h-200 font-bold text-2xl md:text-3xl;
                }

                .desc {
                  @apply flex gap-x-1 text-sm;

                  * {
                    @apply text-h-200;
                  }
                }
              }
            }
          }
        }
      }

      /* https://swiperjs.com/demos#navigation */
      .swiper-button-next,
      .swiper-button-prev {
        --swiper-navigation-size: 2rem;
        --swiper-navigation-color: rgba(255, 255, 255, .6);
        @apply max-lg:hidden;

        &::before,
        &::after {
          @apply text-sm font-bold;
        }
      }
    }

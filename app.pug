doctype html

html#hELLO(
  x-data='app'
  lang='ko'
  class='scroll-smooth')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width')

    title [##_page_title_##] — [##_title_##]

    link(rel='alternate' type='application/rss+xml' title='[##_title_##]' href='[##_rss_url_##]')

    link(rel='preconnect' href='//fonts.googleapis.com')
    link(rel='preconnect' href='//fonts.gstatic.com' crossorigin)

    link(rel='stylesheet' :href='"//cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css"')
    link(rel='stylesheet' :href='"//cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"')
    link(rel='stylesheet' :href='"//cdn.jsdelivr.net/gh/wan2land/d2coding/d2coding-ligature-full.css"')
    link(rel='stylesheet' :href='"//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"')
    
    //- highlight.js CDN
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js')
    
    script(src='./images/bootstrap.js')

    style(fixed).
      :root {
        --h-idx: 1100px; /* index */
        --h-pem: [##_var_width_##]px; /* permalink */
        --h-s: 256px; /* sidebar */
        --h-c: calc(100% - var(--h-s)); /* content */
        --h-h: 256px; /* header */
        
        /* 라이트 모드 색상 */
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #4a4a4a;
        --color-text-tertiary: #6b7280;
        --color-bg-primary: #ffffff;
        --color-bg-secondary: #f9fafb;
        --color-bg-tertiary: #f3f4f6;
        --color-border: #e5e7eb;
        --color-link: #3b82f6;
        --color-link-hover: #2563eb;
      }
      
      .dark {
        /* 다크 모드 색상 */
        --color-text-primary: #f9fafb;
        --color-text-secondary: #d1d5db;
        --color-text-tertiary: #9ca3af;
        --color-bg-primary: #111827;
        --color-bg-secondary: #1f2937;
        --color-bg-tertiary: #374151;
        --color-border: #374151;
        --color-link: #60a5fa;
        --color-link-hover: #93c5fd;
      }
      
      /* 시스템 기본 색상 적용 */
      body {
        color: var(--color-text-primary);
        background-color: var(--color-bg-primary);
        transition: color 0.2s ease, background-color 0.2s ease;
      }
      
      /* 링크 색상 */
      a {
        color: var(--color-link);
        transition: color 0.2s ease;
      }
      
      a:hover {
        color: var(--color-link-hover);
      }
      
      /* 보조 텍스트 */
      .text-secondary {
        color: var(--color-text-secondary);
      }
      
      .text-tertiary {
        color: var(--color-text-tertiary);
      }
      
      /* 배경색 */
      .bg-secondary {
        background-color: var(--color-bg-secondary);
      }
      
      .bg-tertiary {
        background-color: var(--color-bg-tertiary);
      }

    style
      include:postcss @/css/app.css
      include:postcss @/css/shortcutLayer.css

    script(fixed).
      /**
       * Set skin options
       *
       * @see https://tistory.github.io/document-tistory-skin/common/variable.html
       * @see docs/index.xml
       */
      window.skinOptions = {
        sidebar: '[##_var_sidebar_##]',
        foldableCategory: '[##_var_foldable-category_##]',
        width: '[##_var_width_##]',
        toc: '[##_var_toc_##]',
        scrollspy: '[##_var_scrollspy_##]',
        hljs: '[##_var_hljs_##]',
        hljsDark: '[##_var_hljs-dark_##]',
        headerStyle: '[##_var_header-style_##]'
      }

  body(
    id='[##_body_id_##]'
    class='overflow-x-hidden bg-h-100 dark:bg-h-800')
    block TIDORY

    script.
      // Alpine Store 정의 (전역 상태 관리)
      document.addEventListener('alpine:init', () => {
        Alpine.store('app', {
          dark: darkMode.on,
          loading: true
        });
        
        // Bottom 컴포넌트 (다크모드 토글)
        Alpine.data('bottom', () => ({
          toggleTheme () {
            darkMode.toggle()
            if (Alpine.store('app')) {
              Alpine.store('app').dark = !Alpine.store('app').dark
            }
          }
        }));
        
        // 소셜 링크 파싱 컴포넌트
        Alpine.data('parseSocialLinks', () => ({
          socialLinks: [],
          
          init() {
            const desc = this.description || '';
            const links = [];
            
            // GitHub
            const github = desc.match(/github\.com\/([a-zA-Z0-9_-]+)/i);
            if (github) links.push({ url: `https://github.com/${github[1]}`, icon: 'fa-brands fa-github' });
            
            // LinkedIn
            const linkedin = desc.match(/linkedin\.com\/in\/([a-zA-Z0-9_-]+)/i);
            if (linkedin) links.push({ url: `https://linkedin.com/in/${linkedin[1]}`, icon: 'fa-brands fa-linkedin' });
            
            // Instagram
            const instagram = desc.match(/instagram\.com\/([a-zA-Z0-9_.]+)/i);
            if (instagram) links.push({ url: `https://instagram.com/${instagram[1]}`, icon: 'fa-brands fa-instagram' });
            
            // Twitter/X
            const twitter = desc.match(/(?:twitter\.com|x\.com)\/([a-zA-Z0-9_]+)/i);
            if (twitter) links.push({ url: `https://x.com/${twitter[1]}`, icon: 'fa-brands fa-x-twitter' });
            
            // Email
            const email = desc.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);
            if (email) links.push({ url: `mailto:${email[1]}`, icon: 'fa-solid fa-envelope' });
            
            this.socialLinks = links;
          }
        }));
      });

    script.
      document.addEventListener('alpine:init', () => Alpine.data('app', () => ({
        /**
         * @type {boolean}
         */
        get dark() {
          return Alpine.store('app').dark;
        },

        /**
         * @type {boolean}
         */
        get loading() {
          return Alpine.store('app').loading;
        },

        /**
         * Init
         */
        init () {
          this.loaded()
        },

        /**
         * Loaded
         */
        loaded () {
          setTimeout(() => Alpine.store('app').loading = false, 100)
        }
      })))

    script.
      window.addEventListener('DOMContentLoaded', () => Alpine.start())
